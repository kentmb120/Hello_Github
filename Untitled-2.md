# 计算机网络的相关计算

## 1.已知IP地址和子网掩码求网络地址
    例题1:已知IP地址是141.14.72.24,子网掩码是255.255.192.0,试求网络地址
方法:将IP地址与子网掩码进行**与运算** 即可.

步骤:

观察子网掩码,发现前两个字节都为255,即他们的二进制都是全1,同时子网掩码的第四个字节是0,即为全0,所以只要计算第三字节即可.

        72的2进制为01001000
        192的2进制为11000000
        01001000
        11000000
        ---------
        01000000
        又因为01000000的十进制为64,所以,网络地址为141.14.64.0.

## 2.已知网络号和子网掩码,确定可以划分的指望个数,写出每个子网的子网号
    例题1:某A类网路20.0.0.0的子网掩码为255.224.0.0,请确定可以划分的子网个数,并且写出每个子网的子网号
步骤:
    
    首先明确各类网络的默认子网掩码:
|网络类别|默认子网掩码|
|:-:|:-:|
|A类|255.0.0.0|
|B类|255.255.0.0|
|C类|255.255.255.0|

    然后观察题目给出的子网掩码为255.224.0.0,可以看到多出来的224就是子网号
    224=11100000
    这里看到有三个1,可知该A类网络用第2个字节的3个比特进行了子网划分.因此划分的子网数为2的3次方,即为8个.  
***
    至于每个的子网号,只需要看后五位为0的主机号,去掉全1和全0,还剩下如下
|子网号二进制|子网号|
|:-:|:-:|
|20.000 00000.0.0.0|20.0.0.0|
|20.001 00000.0.0.0|20.32.0.0|
|20.010 00000.0.0.0|20.64.0.0|
|20.011 00000.0.0.0|20.96.0.0|
|20.100 00000.0.0.0|20.128.0.0|
|20.101 00000.0.0.0|20.160.0.0|
|20.110 00000.0.0.0|20.192.0.0|
|20.111 00000.0.0.0|20.224.0.0|

***
    例题2:IPv4地址为10.32.0.0,子网掩码为255.224.0.0的子网中最大可分配给主机的ipv4地址是什么?

解析:
    
    根据子网掩码255.224.0.0可知该子网中的主机id分布在ipv4地址的后三个字节.
    其中三个地址块的大小分别为32(256-224),256(256-0),256(256-0)
    255.224.0.0=1111 1111.1110 0000.0000 0000.0000 0000
    所以各子网该字节的取值范围参考上一题的表格.
    因为ipv4地址10.32.0.0刚好落在第二个网段
    所以他的取值范围是10.32.0.0-10.63.255.255
    在这个范围里除去10.63.255.255为广播地址不可用
    所以最大值为10.63.255.254

***
## 3.将某网划分成几个子网,计算每个子网的有效主机IP地址范围和对应的子网掩码
    例题1:将某C网200.161.30.0划分成4个子网,计算每个子网的有效主机IP地址范围和对应的子网掩码.
解析:

    由题目可知是C类地址,查阅上面的地址默认子网掩码可知C类的默认子网掩码为255.255.255.0
    因为要划分4个子网,所以需要log2^4个比特位即2个比特位
    因此子网掩码为255.255.255.11 000000=255.255.255.192
    所以子网的网络地址为
    200.161.30.00 000000-200.161.30.0
    200.161.30.01 000000=200.161.30.64
    200.161.30.10 000000=200.161.30.128
    200.161.30.11 000000=200.161.30.192

    所以取值范围为(需要排除全0和全1的主机地址)
    200.161.30.1-200.161.30.62
    200.161.30.65-200.161.30.126
    200.161.30.129-200.161.30.190
    200.161.30.193-200.161.30.254

***
## 4.综合题
    例题1:某公司申请到的网路地址为192.3.2.0,想要划分5个子公司,最大的一个子公司有28台计算机,每个子公司在一个子网中,则
    (1)子网掩码应为多少?
    (2)5个公司的网络地址分别是什么?

解析:

     首先判断公司申请到的地址为几类

IP地址分类表如下

|IP地址类别|IP地址格式|
|:-:|:-:|
|A类|1.0.0.0-126.255.255.255|
|B类|128.0.0.0-191.255.255.255|
|C类|192.0.0.0-223.255.255.255|

    由上表可知,192.3.2.0是C类地址,所以子网的划分从第四个字节开始
    需要划分五个子网即需要log2^5=3个比特
    第4个字节共8个比特,所以主机号占了8-3=5个比特,因此每个子网可以连接(2^5)-2=30台主机
    因为30>最大的28,所以可以满足子公司的需求
    (1)子网掩码前三个字节是默认的子网掩码,第四个字节的前3个比特为1,后五个比特为0
    所以,子网掩码是255.255.255.111 00000=255.255.255.224
    (2)可以划分2^3个子网,每个子网的网络地址为
    192.3.2.000 00000=192.3.2.0
    192.3.2.001 00000=192.3.2.32
    192.3.2.010 00000=192.3.2.64
    192.3.2.011 00000=192.3.2.96
    192.3.2.100 00000=192.3.2.128
    192.3.2.101 00000=192.3.2.160
    192.3.2.110 00000=192.3.2.192
    192.3.2.111 00000=192.3.2.224






